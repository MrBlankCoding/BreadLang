// Test complex nested data structures
let users: [String: [String: Int]] = [
    "alice": ["age": 25, "score": 95],
    "bob": ["age": 30, "score": 87]
]

print(users["alice"]["age"])
print(users["bob"]["score"])

// Array of dictionaries
let products: [[String: String]] = [
    ["name": "laptop", "price": "1000"],
    ["name": "mouse", "price": "25"],
    ["name": "keyboard", "price": "75"]
]

print(products.length)
print(products[0]["name"])
print(products[2]["price"])

// Nested arrays with mixed operations
let matrix: [[Int]] = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
let sum: Int = 0

for row in matrix {
    for val in row {
        sum = sum + val
    }
}

print(sum)

// Complex function with nested structures
func analyze_data(data: [[String: Int]]) -> [String: Int] {
    let result: [String: Int] = ["total": 0, "count": 0, "max": 0]
    
    for item in data {
        let value: Int = item["value"]
        result["total"] = result["total"] + value
        result["count"] = result["count"] + 1
        if value > result["max"] {
            result["max"] = value
        }
    }
    
    return result
}

let dataset: [[String: Int]] = [
    ["value": 10],
    ["value": 25],
    ["value": 15],
    ["value": 30]
]

let analysis: [String: Int] = analyze_data(dataset)
print(analysis["total"])
print(analysis["count"])
print(analysis["max"])