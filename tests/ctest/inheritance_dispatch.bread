print("=== inheritance dispatch ===")

class Animal {
    name: String
    age: Int
    species: String

    def init(name: String, age: Int, species: String) {
        self.name = name
        self.age = age
        self.species = species
    }

    def speak() -> String {
        return self.name + " makes a sound"
    }

    def getInfo() -> String {
        return self.name + " (" + self.species + "), age " + str(self.age)
    }

    def birthday() -> Int {
        self.age = self.age + 1
        return self.age
    }
}

class Dog extends Animal {
    breed: String

    def init(name: String, age: Int, breed: String) {
        super.init(name, age, "Dog")
        self.breed = breed
    }

    def speak() -> String {
        return self.name + " says: Woof! Woof!"
    }

    def wagTail() -> String {
        return self.name + " is wagging tail happily!"
    }

    def getBreed() -> String {
        return self.breed
    }
}

let dog: Dog = Dog("Buddy", 3, "Golden Retriever")

print(dog.getInfo())
print(dog.speak())
print(dog.wagTail())
print("Breed: " + dog.getBreed())

print(dog.birthday())
print(dog.getInfo())
